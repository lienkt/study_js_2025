<!DOCTYPE html>
<html>
<head>
  <title>Function</title>

</head>
<body>

  <h1 id="heading">Function</h1>

  <script type="text/javascript">
    /* 
      - pure function
        - not side effect (ko dc thay đổi các biến bên ngoài function đó)
        - receive input, and return output same type value
      - impure function
        - has side effect
      - function declarations
        - name of function
        - hoisting
      - function expression
        - no name of function
        - not hoisting (can't access before declarations)
      Notes: khi 1 function mà nhận vào 2 tham số trở lên, thì nên đổi parameter thành {}
      - arrow function
        - no name of function
        - no hoisting
        - no this context
    */

    // pure function
    function getUserInfo(firstName, lastName, age, address) {
      return `Hello ${firstName}, ${lastName}, ${age}`
    }
    const userInfo = getUserInfo('tony', '140');
    console.log('userInfo: ', userInfo)

    // impure function
    const todos = [
      { id: 1, name: 'react' },
      { id: 2, name: 'angular' },
    ]

    function changeTitleTodo(dataSource = []) {
      if (dataSource.length === 0) return []; // return early

      dataSource[0].name = 'nguyen';
      return dataSource;
    }
    const newTodos = changeTitleTodo(todos);
    console.log('newTodos: ', {
      newTodos,
      todos
    });

    /* function declarations */
    console.log(calculateSum({ firstName: 'tony' }))
    function calculateSum({
      x = 0,
      y = 0, 
      z = 0, 
      age = 10, 
      firstName
    }) {
      return x + y;
    }

     /* function expression */
    const calculateArea = function(width, height) {
      return width * height;
    }
    console.log('calculateArea: ', calculateArea(200, 300))

    // arrow function
    const animal = {
      name: 'dog',
      age: 18,
      year: 2005,
      type: '4 chan',
      getName: function() {
        console.log("getName: ", this)
      },
      getAge: () => {
        console.log("getAge: ", this)
      }
    };

    console.log('arrow function: ', {
      getName: animal.getName(),
      getAge: animal.getAge(),
    })

    // specify parameter
    function square(x, y) { 
      return x + y
    }
    // const squareArrow = (x, y) => (x + y);
    const squareArrow = (x, y) => ({ x: x + y });

    console.log('squareArrow: ', squareArrow(1,2));

    // curry function sumCurry(1)(3)(4) = 3
    const sumCurry = (x) => (y) => (z) => {
      return x + y + z
    }
    console.log('curry function: ', sumCurry(1)(2)(3));

    // HOF (high order function) HOF
    function applyTwice(func, arg) {
      return func(func(arg)); // sum(sum(10)) // sum(15) -> return 20
    }
    function sum(x) {
      return x + 5;
    }
    console.log('HOF: ', applyTwice(sum, 10));



  </script>
</body>
</html> 